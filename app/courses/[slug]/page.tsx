import { Header } from "@/components/layout/header"
import { Footer } from "@/components/layout/footer"
import { GlassCard } from "@/components/ui/glass-card"
import { Button } from "@/components/ui/button"
import { Progress } from "@/components/ui/progress"
import { Play } from "lucide-react"
import { notFound, redirect } from "next/navigation"
import { getCourse, getLessons, hasAccess } from "@/lib/db"
import { getUser } from "@/lib/auth"
import { createClient } from "@supabase/supabase-js"

const supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.SUPABASE_SERVICE_ROLE_KEY!)

async function createChineseSuppliersCourse() {
  try {
    // Check if course already exists
    const { data: existingCourse } = await supabase
      .from("courses")
      .select("id")
      .eq("slug", "chinese-for-suppliers")
      .single()

    if (existingCourse) {
      return existingCourse
    }

    // Create the course with comprehensive data
    const { data: course, error: courseError } = await supabase
      .from("courses")
      .insert({
        title: "–ö–∏—Ç–∞–π—Å–∫–∏–π –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤",
        slug: "chinese-for-suppliers",
        description:
          "–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–∏—Ç–∞–π—Å–∫–∏–µ —Ñ—Ä–∞–∑—ã –∏ –¥–µ–ª–æ–≤—É—é –ª–µ–∫—Å–∏–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏ –≤ –ö–∏—Ç–∞–µ. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –ø–æ –∑–∞–∫—É–ø–∫–∞–º –∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –±–∏–∑–Ω–µ—Å–∞.",
        long_description:
          "–≠—Ç–æ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∫—É—Ä—Å –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –æ—Å–≤–æ–∏—Ç—å –∫–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏. –í—ã –∏–∑—É—á–∏—Ç–µ –¥–µ–ª–æ–≤—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é, –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–µ–¥–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞ –≤ –ö–∏—Ç–∞–µ, –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤. –ö—É—Ä—Å –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É—Ä–æ–∫–∏ —Å AI-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º, –≥–æ–ª–æ—Å–æ–≤—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏ —Ä–µ–∞–ª—å–Ω—ã–µ –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–∏.",
        price_cents: 9900,
        original_price_cents: 14900,
        is_published: true,
        level: "–ù–∞—á–∏–Ω–∞—é—â–∏–π",
        duration_hours: 12,
        student_count: 1247,
        rating: 4.8,
        review_count: 156,
        instructor_name: "–õ–∏ –í—ç–π",
        instructor_bio: "–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ —Å 15-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º –±–∏–∑–Ω–µ—Å–µ",
        instructor_avatar: "/chinese-teacher.png",
        image_url: "/placeholder-848vc.png",
        learning_objectives: [
          "–û—Å–≤–æ–∏—Ç–µ –±–∞–∑–æ–≤—É—é –¥–µ–ª–æ–≤—É—é –ª–µ–∫—Å–∏–∫—É –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º —è–∑—ã–∫–µ",
          "–ù–∞—É—á–∏—Ç–µ—Å—å –≤–µ—Å—Ç–∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏",
          "–ò–∑—É—á–∏—Ç–µ –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–µ–¥–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞ –≤ –ö–∏—Ç–∞–µ",
          "–°–º–æ–∂–µ—Ç–µ –æ–±—Å—É–∂–¥–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –∏ —Å—Ä–æ–∫–∏ –ø–æ—Å—Ç–∞–≤–∫–∏",
          "–ü–æ–ª—É—á–∏—Ç–µ –Ω–∞–≤—ã–∫–∏ –ø–∏—Å—å–º–µ–Ω–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º",
          "–û—Å–≤–æ–∏—Ç–µ —ç—Ç–∏–∫–µ—Ç –¥–µ–ª–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π",
        ],
        requirements: [
          "–ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞",
          "–ñ–µ–ª–∞–Ω–∏–µ –∏–∑—É—á–∞—Ç—å –∫–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫",
          "–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –≤ —Å—Ñ–µ—Ä–µ –∑–∞–∫—É–ø–æ–∫ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)",
          "–ö–æ–º–ø—å—é—Ç–µ—Ä –∏–ª–∏ –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º",
        ],
        in_subscription: true,
      })
      .select()
      .single()

    if (courseError) {
      console.error("[v0] Error creating course:", courseError)
      return null
    }

    // Create comprehensive lessons with AI teacher integration
    const lessons = [
      {
        title: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–∏—Ç–∞–π—Å–∫—É—é –¥–µ–ª–æ–≤—É—é –∫—É–ª—å—Ç—É—Ä—É",
        content: `
# –£—Ä–æ–∫ 1: –í–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–∏—Ç–∞–π—Å–∫—É—é –¥–µ–ª–æ–≤—É—é –∫—É–ª—å—Ç—É—Ä—É

## AI –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: –õ–∏ –í—ç–π
–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –∫—É—Ä—Å –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏! –ú–µ–Ω—è –∑–æ–≤—É—Ç –õ–∏ –í—ç–π, –∏ —è –±—É–¥—É –≤–∞—à–∏–º AI-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º.

## –û—Å–Ω–æ–≤—ã –¥–µ–ª–æ–≤–æ–π –∫—É–ª—å—Ç—É—Ä—ã

### –í–∞–∂–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
- **–ì—É–∞–Ω—å—Å–∏ (ÂÖ≥Á≥ª)** - –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏ —Å–≤—è–∑–∏
- **–ú—è–Ω—å—Ü–∑—ã (Èù¢Â≠ê)** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏—Ü–∞ –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏  
- **–ò–µ—Ä–∞—Ä—Ö–∏—è** - —É–≤–∞–∂–µ–Ω–∏–µ –∫ —Å—Ç–∞—Ä—à–∏–º –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É

### –ì–æ–ª–æ—Å–æ–≤—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è:
üé§ **–ü—Ä–æ–∏–∑–Ω–µ—Å–∏—Ç–µ —Ñ—Ä–∞–∑—ã:**
- ‰Ω†Â•Ω (N«ê h«éo) - –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ
- ÂæàÈ´òÂÖ¥ËßÅÂà∞ÊÇ® (Hƒõn gƒÅox√¨ng ji√†n d√†o n√≠n) - –û—á–µ–Ω—å —Ä–∞–¥ –≤—Å—Ç—Ä–µ—á–µ —Å –≤–∞–º–∏
- ÊàëÊòØ... (W«í sh√¨...) - –ú–µ–Ω—è –∑–æ–≤—É—Ç...

### AI –ß–∞—Ç-–ø–æ–º–æ—â–Ω–∏–∫
üí¨ –ó–∞–¥–∞–π—Ç–µ –º–Ω–µ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ –∫–∏—Ç–∞–π—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä–µ –∏–ª–∏ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–∏!
        `,
        order_index: 1,
        duration_minutes: 15,
        course_id: course.id,
        is_demo: true,
        video_url: "/placeholder.mp4",
        has_ai_chat: true,
        has_voice_practice: true,
      },
      {
        title: "–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏",
        content: `
# –£—Ä–æ–∫ 2: –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏

## AI –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç:
–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –∏–∑—É—á–∏–º –∫–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–∑—ã –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤ —Å –∫–∏—Ç–∞–π—Å–∫–∏–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏.

## –ö–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–∑—ã:

### –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ:
- **Êàë‰ª¨ÊÉ≥ÈááË¥≠...** (W«ímen xi«éng c«éig√≤u...) - –ú—ã —Ö–æ—Ç–∏–º –∑–∞–∫—É–ø–∏—Ç—å...
- **ÊÇ®ËÉΩÊèê‰æõ‰ªÄ‰πà‰ª∑Ê†º?** (N√≠n n√©ng t√≠g≈çng sh√©nme ji√†g√©?) - –ö–∞–∫—É—é —Ü–µ–Ω—É –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å?
- **ÊúÄÂ∞èËÆ¢Ë¥≠ÈáèÊòØÂ§öÂ∞ë?** (Zu√¨xi«éo d√¨ngg√≤u li√†ng sh√¨ du≈çsh«éo?) - –ö–∞–∫–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –∑–∞–∫–∞–∑–∞?

### –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞:
- **Ë¥®ÈáèÊÄé‰πàÊ†∑?** (Zh√¨li√†ng zƒõnmey√†ng?) - –ö–∞–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ?
- **ÊúâË¥®ÈáèËØÅ‰π¶Âêó?** (Y«íu zh√¨li√†ng zh√®ngsh≈´ ma?) - –ï—Å—Ç—å –ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞?
- **ÂèØ‰ª•ÁúãÊ†∑ÂìÅÂêó?** (Kƒõy«ê k√†n y√†ngp«ên ma?) - –ú–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±—Ä–∞–∑—Ü—ã?

### –ì–æ–ª–æ—Å–æ–≤–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ —Å AI:
üé§ –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∑–∞ –º–Ω–æ–π –∫–∞–∂–¥—É—é —Ñ—Ä–∞–∑—É. –Ø –æ—Ü–µ–Ω—é –≤–∞—à–µ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ!

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥:
üí¨ –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ–¥–µ–º –¥–∏–∞–ª–æ–≥! –Ø –±—É–¥—É –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º, –∞ –≤—ã - –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–º.
        `,
        order_index: 2,
        duration_minutes: 25,
        course_id: course.id,
        has_ai_chat: true,
        has_voice_practice: true,
        has_interactive_exercises: true,
      },
      {
        title: "–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã –æ —Ü–µ–Ω–µ –∏ —É—Å–ª–æ–≤–∏—è—Ö –ø–æ—Å—Ç–∞–≤–∫–∏",
        content: `
# –£—Ä–æ–∫ 3: –ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã –æ —Ü–µ–Ω–µ –∏ —É—Å–ª–æ–≤–∏—è—Ö –ø–æ—Å—Ç–∞–≤–∫–∏

## AI –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –æ–±—ä—è—Å–Ω—è–µ—Ç:
–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã - —ç—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ! –î–∞–≤–∞–π—Ç–µ –∏–∑—É—á–∏–º, –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–±—Å—É–∂–¥–∞—Ç—å —Ü–µ–Ω—ã –∏ —É—Å–ª–æ–≤–∏—è.

## –§—Ä–∞–∑—ã –¥–ª—è –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤:

### –û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ü–µ–Ω—ã:
- **‰ª∑Ê†ºÂ§™È´ò‰∫Ü** (Ji√†g√© t√†i gƒÅo le) - –¶–µ–Ω–∞ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è
- **ËÉΩ‰æøÂÆú‰∏ÄÁÇπÂêó?** (N√©ng pi√°ny√≠ yƒ´di«én ma?) - –ú–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –¥–µ—à–µ–≤–ª–µ?
- **Â¶ÇÊûúËÆ¢Ë¥≠ÈáèÂ§ßÔºåÊúâÊäòÊâ£Âêó?** (R√∫gu«í d√¨ngg√≤u li√†ng d√†, y«íu zh√©k√≤u ma?) - –ï—Å–ª–∏ –∑–∞–∫–∞–∑ –±–æ–ª—å—à–æ–π, –µ—Å—Ç—å —Å–∫–∏–¥–∫–∞?

### –£—Å–ª–æ–≤–∏—è –ø–æ—Å—Ç–∞–≤–∫–∏:
- **‰ªÄ‰πàÊó∂ÂÄôËÉΩÂèëË¥ß?** (Sh√©nme sh√≠h√≤u n√©ng fƒÅhu√≤?) - –ö–æ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å?
- **ËøêË¥πÂ§öÂ∞ëÈí±?** (Y√πnf√®i du≈çsh«éo qi√°n?) - –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –¥–æ—Å—Ç–∞–≤–∫–∞?
- **‰ªòÊ¨æÊñπÂºèÊòØ‰ªÄ‰πà?** (F√πku«én fƒÅngsh√¨ sh√¨ sh√©nme?) - –ö–∞–∫–∏–µ —É—Å–ª–æ–≤–∏—è –æ–ø–ª–∞—Ç—ã?

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
üé≠ **–†–æ–ª–µ–≤–∞—è –∏–≥—Ä–∞ —Å AI:**
–Ø –±—É–¥—É –∏–≥—Ä–∞—Ç—å —Ä–æ–ª—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, –∞ –≤—ã - –ø–æ–∫—É–ø–∞—Ç–µ–ª—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ –ª—É—á—à–µ–π —Ü–µ–Ω–µ!

### –ì–æ–ª–æ—Å–æ–≤–æ–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä:
üé§ –ü—Ä–æ–∏–∑–Ω–µ—Å–∏—Ç–µ —Ñ—Ä–∞–∑—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–Ω—Ç–æ–Ω–∞—Ü–∏–µ–π. –ü–æ–º–Ω–∏—Ç–µ: –≤ –∫–∏—Ç–∞–π—Å–∫–æ–º —è–∑—ã–∫–µ —Ç–æ–Ω –æ—á–µ–Ω—å –≤–∞–∂–µ–Ω!

### AI –ê–Ω–∞–ª–∏–∑:
üìä –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —è –¥–∞–º –≤–∞–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø–æ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ñ—Ä–∞–∑.
        `,
        order_index: 3,
        duration_minutes: 30,
        course_id: course.id,
        has_ai_chat: true,
        has_voice_practice: true,
        has_interactive_exercises: true,
        has_role_play: true,
      },
      {
        title: "–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ reklamacii",
        content: `
# –£—Ä–æ–∫ 4: –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ reklamacii

## AI –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç:
–ö–∞—á–µ—Å—Ç–≤–æ - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞! –ò–∑—É—á–∏–º, –∫–∞–∫ –æ–±—Å—É–∂–¥–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –∫–∞—á–µ—Å—Ç–≤–∞.

## –§—Ä–∞–∑—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞:
- **Ë¥®Èáè‰∏çÁ¨¶ÂêàË¶ÅÊ±Ç** (Zh√¨li√†ng b√π f√∫h√© yƒÅoqi√∫) - –ö–∞—á–µ—Å—Ç–≤–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- **ÊúâÁº∫Èô∑** (Y«íu quƒìxi√†n) - –ï—Å—Ç—å –¥–µ—Ñ–µ–∫—Ç—ã
- **ÈúÄË¶ÅÊîπËøõ** (X≈´y√†o g«éij√¨n) - –ù—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

### reklamacii:
- **Êàë‰ª¨ÂèëÁé∞‰∫ÜÈóÆÈ¢ò** (W«ímen fƒÅxi√†n le w√®nt√≠) - –ú—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É
- **ÈúÄË¶ÅÈÄÄË¥ß** (X≈´y√†o tu√¨hu√≤) - –ù—É–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—Ç
- **Ë¶ÅÊ±ÇËµîÂÅø** (YƒÅoqi√∫ p√©ich√°ng) - –¢—Ä–µ–±—É–µ–º –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è:
üéØ **–°–∏—Ç—É–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
AI —Å–æ–∑–¥–∞—Å—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏, –∞ –≤—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º —è–∑—ã–∫–µ.

### –ì–æ–ª–æ—Å–æ–≤–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞:
üé§ –¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ —Å –ø–æ–º–æ—â—å—é AI-—Ç—Ä–µ–Ω–µ—Ä–∞.
        `,
        order_index: 4,
        duration_minutes: 20,
        course_id: course.id,
        has_ai_chat: true,
        has_voice_practice: true,
        has_interactive_exercises: true,
      },
      {
        title: "–î–µ–ª–æ–≤–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç",
        content: `
# –£—Ä–æ–∫ 5: –î–µ–ª–æ–≤–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç

## AI –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É—á–∏—Ç:
–ü–∏—Å—å–º–µ–Ω–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ –Ω–µ –º–µ–Ω–µ–µ –≤–∞–∂–Ω–æ! –ò–∑—É—á–∏–º –æ—Å–Ω–æ–≤—ã –¥–µ–ª–æ–≤–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–ª–æ–≤–æ–≥–æ –ø–∏—Å—å–º–∞:

### –û–±—Ä–∞—â–µ–Ω–∏–µ:
- **Â∞äÊï¨ÁöÑ...ÂÖàÁîü/Â•≥Â£´** (Z≈´nj√¨ng de... xiƒÅnshƒìng/n«ösh√¨) - –£–≤–∞–∂–∞–µ–º—ã–π –≥–æ—Å–ø–æ–¥–∏–Ω/–≥–æ—Å–ø–æ–∂–∞...
- **‰∫≤Áà±ÁöÑÂêà‰Ωú‰ºô‰º¥** (Qƒ´n'√†i de h√©zu√≤ hu«íb√†n) - –î–æ—Ä–æ–≥–æ–π –ø–∞—Ä—Ç–Ω–µ—Ä

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã:
- **ÊÑüË∞¢ÊÇ®ÁöÑÊù•‰ø°** (G«énxi√® n√≠n de l√°ix√¨n) - –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ –ø–∏—Å—å–º–æ
- **ÂÖ≥‰∫éÊÇ®ÁöÑËØ¢‰ª∑** (GuƒÅny√∫ n√≠n de x√∫nji√†) - –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤–∞—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Ü–µ–Ω—ã
- **ËØ∑Êü•Êî∂ÈôÑ‰ª∂** (Q«êng ch√° sh≈çu f√πji√†n) - –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–ª–æ–∂–µ–Ω–∏–µ

### AI –ü–æ–º–æ—â–Ω–∏–∫ –ø–æ –ø–∏—Å—å–º–∞–º:
‚úçÔ∏è **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∏—Å–µ–º:**
–û–ø–∏—à–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é, –∏ AI –ø–æ–º–æ–∂–µ—Ç —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –¥–µ–ª–æ–≤–æ–µ –ø–∏—Å—å–º–æ –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º —è–∑—ã–∫–µ.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏:
üìù –ù–∞–ø–∏—à–∏—Ç–µ –ø–∏—Å—å–º–æ, –∏ AI –ø—Ä–æ–≤–µ—Ä–∏—Ç –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –∏ —Å—Ç–∏–ª—å.
        `,
        order_index: 5,
        duration_minutes: 25,
        course_id: course.id,
        has_ai_chat: true,
        has_writing_practice: true,
      },
    ]

    const { error: lessonsError } = await supabase.from("lessons").insert(lessons)

    if (lessonsError) {
      console.error("[v0] Error creating lessons:", lessonsError)
    }

    return course
  } catch (error) {
    console.error("Error in createChineseSuppliersCourse:", error)
    return null
  }
}

export default async function CoursePage({ params }) {
  const slug = params.slug
  const user = await getUser()
  const course = await getCourse(slug)
  const lessons = await getLessons(slug)

  if (!course) {
    notFound()
  }

  if (!user || !(await hasAccess(user.id, course.id))) {
    redirect("/login")
  }

  return (
    <div>
      <Header />
      <main>
        <GlassCard>
          <h1>{course.title}</h1>
          <p>{course.description}</p>
          <Progress value={50} max={100} />
          <Button>
            <Play className="mr-2 h-4 w-4" />
            –ù–∞—á–∞—Ç—å –∫—É—Ä—Å
          </Button>
        </GlassCard>
        {lessons.map((lesson) => (
          <div key={lesson.id}>
            <h2>{lesson.title}</h2>
            <p>{lesson.content}</p>
          </div>
        ))}
      </main>
      <Footer />
    </div>
  )
}
